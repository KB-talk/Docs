---
# 这是文章的标题
title: 工程配置
# 你可以自定义封面图片
cover: /assets/images/cover1.jpg
# 这是页面的图标
icon: file
# 这是侧边栏的顺序
order: 2
# 设置作者
author: 张凯博
# 设置写作时间
date: 2024-06-21
# 一个页面可以有多个分类
category:
  - STM32
# 一个页面可以有多个标签
tag:
  - 开发环境
  - 介绍
# 此页面会在文章列表置顶
sticky: false
# 此页面会出现在星标文章中
star: false
# 你可以自定义页脚
footer: STM32开发环境搭建
# 你可以自定义版权信息
copyright: 无版权
---
## 安装pyqt5
```py
pip install PyQt5
```

```py
pip install pyqt5-tools
```

## 配置工具
### QtDesigner的配置
* 名称(可自己定义)
```
QtDesigner
```
* 描述(可不添加)
```
ui designer
```
* 程序
```
C:\Users\zkb13\.conda\envs\python11\Lib\site-packages\qt5_applications\Qt\bin\designer.exe
```
::: tip 路径位置

使用anaconda管理的python的环境，使用pip进行安装，`designer.exe`位置在python的目录中。

`C:\Users\zkb13\.conda\envs\python11`为python的路径，此路径可以在anaconda中进行查看。

`\Lib\site-packages\qt5_applications\Qt\bin\designer.exe`路径基本相同。

:::
* 工作目录
```
$ProjectFileDir$
```

### PyUIC
* 名称(可自己定义)
```
PyUIC
```
* 描述(可不添加)
```
PyUIC
```
* 程序
```
C:\Users\zkb13\.conda\envs\python11\Scripts\pyuic5.exe
```
::: tip 路径位置

`pyuic5.exe`位置在anaconda管理的python的目录中。

`C:\Users\zkb13\.conda\envs\python11`为python的路径，此路径可以在anaconda中进行查看。

:::
* 实参
```
$FileName$ -o $FileNameWithoutExtension$.py
```
* 工作目录
```
$FileDir$
```

## 测试
运行QtDesigner，绘制简单界面，并保存为`interface.ui`。

在`ui`文件右键，使用`PyUIC`工具，生成`py`文件。

新建py文件，添加下面内容。
```
import sys
from PyQt5.QtWidgets import QApplication, QMainWindow
from interface import Ui_Form

class MyMainForm(QMainWindow, Ui_Form):
    def __init__(self, parent=None):
        super(MyMainForm, self).__init__(parent)
        self.setupUi(self)


if __name__ == "__main__":
    # 固定的，PyQt5程序都需要QApplication对象。sys.argv是命令行参数列表，确保程序可以双击运行
    app = QApplication(sys.argv)
    # 初始化
    myWin = MyMainForm()
    # 将窗口控件显示在屏幕上
    myWin.show()
    # 程序运行，sys.exit方法确保程序完整退出。
    sys.exit(app.exec_())


```
::: warning 

若遇到`DeprecationWarning: sipPyTypeDict() is deprecated, the extension module should use sipPyTypeDictRef() instead class MyMainForm(QMainWindow, Ui_Form):`警告，更新`pyqt5`
```
pip install --upgrade PyQt5
```
:::